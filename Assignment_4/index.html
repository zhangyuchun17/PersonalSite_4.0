<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Same-Sex Household Distribution in the US</title>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css" rel="stylesheet">
    <script defer src="map.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
    <style>
        body { margin: 20px; font-family: Arial, sans-serif; text-align: center; }
        .map-container { display: flex; flex-direction: column; align-items: center; }
        #map { width: 80vw; height: 80vh; margin: 20px auto; align-items: center; }
        .legend { 
            background: white; 
            padding: 10px; 
            border-radius: 5px; 
            position: absolute; 
            bottom: 10px; 
            left: 10px; 
            text-align: left; 
        }
        .description { max-width: 80vw; margin: 20px auto; text-align: left; font-size: 16px; line-height: 1.5; }
        h1 { margin-top: 80px; margin-bottom: 80px; }
        p { margin-left: 180px; margin-right: 180px; text-align: left; }
        .options {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 15px;
            background: #fff;
            color: #000;
            text-align: center;
        }

        .options a {
            display: inline-block;
            padding: 10px 20px;
            background: #000;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            font-size: 1rem;
            transition: 0.3s;
        }

        .options a:hover {
            background: #444;
        }
    </style>
</head>
<body>
    <h1>Mapping Same-Sex Household Ratio in the US</h1> 
<p>
    This interactive map visualizes the proportion of same-sex cohabiting partners relative to opposite-sex partners across the United States. 
    The dataset used is from the <strong>American Community Survey (ACS) 2023, Table B09019</strong>, which includes household types by relationship status at both the state and county levels.
</p>
<p>
    The goal of this map is to analyze regional patterns in the distribution of LGBTQ+ households. By providing two different geographic scales, 
    this visualization allows users to identify broad state-level trends while also examining more granular patterns at the county level.
    This approach can help reveal areas with higher concentrations of same-sex households, which may suggest social, economic, or political factors influencing LGBTQ+ inclusivity.
</p>
<p>
    <strong>Methodology:</strong> The same-sex ratio is calculated using data from the <strong>ACS Table B09019</strong>, which categorizes households based on partnership type. 
    The specific variables used in this calculation are:
            B09019_010E(Opposite-Sex spouses)
            B09019_011E(Same-Sex Spouse)
            B09019_012E(Opposite-Sex Unmarried Partner)
            B09019_013E(Same-Sex Unmarried Partner)
    <p>
        The same-sex ratio is calculated as follows:
        <br>
        <code>(Same-Sex Spouse + Same-Sex Unmarried Partner) / (Opposite-Sex Spouse + Opposite-Sex Unmarried Partner)</code>
    </p>
</p>

    <div id="map"></div>
    <p>
        <strong>Interactive Features:</strong> 
        <ul>
            <p><strong>- Zooming:</strong> The map dynamically updates between state-level and county-level data. Zooming in past level 6 reveals county-level details, while zooming out shows broader state-level trends. This allows users to explore both large-scale and localized patterns in same-sex household distribution.</p>
            <p><strong>- Hover Effect:</strong> Moving the mouse over a region highlights its border, making it easier to distinguish individual states or counties.</p>
            <p><strong>- Click for Details:</strong> Clicking on a state or county opens a tooltip displaying specific household data, including the number of same-sex and opposite-sex spouses and partners, along with the calculated same-sex ratio.</p>
        </ul>
    </p>
    

    <div class="options">
        <div class="inline-options">
            <a href="../Assignment_2/index.html">The colorful book</a>
            <a href="../Assignment_3/index.html">Global LGBT+ Rights Index</a>
            <a href="https://colab.research.google.com/drive/1lDSykLsEo_U1HMwH8nGJrse7haNXlWNh?usp=sharing">The colab code</a>
        </div>
        <a href="../Assignment_1/index.html" class="full-width">Start Over</a>
    </div>    
    
</body>
</html>